<!DOCTYPE html>
<html>
  <head>
    <title>Details</title>
    <!-- CDN for Bootstrap v3.3.7 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- CDN for Semantic UI v2.3.3 -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/semantic.min.css">
    <!-- CDN for Font Awesome v5.3.1 -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="semantic/dist/semantic.min.js"></script>

    <!-- Pie Chart for Population Contribution -->
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['State', 'Population'],
          ['<%= state.name %>', <%= state.population.male + state.population.female %>],
          ['', 1210854977 - <%= state.population.male + state.population.female %>]
        ]);

        var options = {
          title: 'Population Contribution',
          backgroundColor: '#333333',
          legend: 'none',
          pieSliceText: 'label',
          slices: { 1: {offset: 0.2} },
          is3D: true,
          titleTextStyle: {color: '#ffffff'},
          pieStartAngle: 50
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
      }
    </script>

    <!-- Column Chart for Literacy Rate -->
    <script type="text/javascript">
      google.charts.load('current', {'packages':['bar']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Area', 'Male', 'Female'],
          ['Rural', <%= state.literacy.rural.male %> , <%= state.literacy.rural.female %> ],
          ['Urban', <%= state.literacy.urban.male %> , <%= state.literacy.urban.female %> ]
        ]);

        var options = {
          backgroundColor: '#333333',
          // chart: {
          //   title: 'Literacy Rate',
          //   subtitle: 'Sales, Expenses, and Profit: 2014-2017',
          // }
        };

        var chart = new google.charts.Bar(document.getElementById('columnchart_material'));
        chart.draw(data, google.charts.Bar.convertOptions(options));
      }
    </script>

    <script type="text/javascript">
        $('.ui .search')
          .search({
            source: content
          })
        ;

        var content = [
          { title: 'Andorra' },
          { title: 'United Arab Emirates' },
          { title: 'Afghanistan' },
          { title: 'Antigua' },
          { title: 'Anguilla' },
          { title: 'Albania' },
          { title: 'Armenia' },
          { title: 'Netherlands Antilles' },
          { title: 'Angola' },
          { title: 'Argentina' },
          { title: 'American Samoa' },
          { title: 'Austria' },
          { title: 'Australia' },
          { title: 'Aruba' },
          { title: 'Aland Islands' },
          { title: 'Azerbaijan' },
          { title: 'Bosnia' },
          { title: 'Barbados' },
          { title: 'Bangladesh' },
          { title: 'Belgium' },
          { title: 'Burkina Faso' },
          { title: 'Bulgaria' },
          { title: 'Bahrain' },
          { title: 'Burundi' }
        ];
    </script>

    <style media="screen">
    body{
      background-color: #2B2B2B;
      color: #ffffff;
    }
    .container, .box{
      background-color: #333333;
      border-radius: 20px;
      margin-top: 20px;
      padding-top: 10px;
      padding-bottom: 10px;
    }
    </style>

  </head>


  <body>
    <!-- To display state name -->
    <div class="container" style="background-color: #2B2B2B">
        <h1 style="display: inline; float: left;"><%= state.name %></h1>

        <div class="ui compact menu" style="float: right;">
            <a class="item" href="/map">
              <i class="home icon"></i> Home
            </a>
            <!-- <a class="item"> -->
              <!-- <i class="clone icon"></i> Compare -->
              <div class="ui search">
                <div class="ui icon input">
                  <input class="prompt" style="outline: none; border: none;" type="text" placeholder="Enter State to compare..">
                  <i class="search icon"></i>
                </div>
                <div class="results"></div>
              </div>
            <!-- </a> -->
        </div>
    </div>

    <!-- To display state description -->
    <div class="container">
        <div style="display: inline;">
            <div style="display: inline; width: 60%; float: left;">
                <h3>Description :</h3><br>
                <div class="text-justify" style="display: inline; font-size:16px; font-weight:100;">
                  <var><%- state.description %></var>
                </div><br>
                <!-- To display area of the state -->
                <h4 style="display: inline;">Area: </h4><span><%= state.area %> sq.Km</span>
            </div>
            <div id="piechart" style="width: 400px; height: 400px; float: right; display: inline;"></div>
        </div>
    </div>

    <!-- To display population distribution -->
    <div class="container" style="background-color: #2B2B2B; border-radius: 0px; padding: 0;">

        <div class="box" style="width: 70.5%; float: left; padding-left: 15px; padding-right: 15px;">
              <h3>Population Distribution :</h3><br>
              <!-- To display progress bar for male population -->
              <div style="display: block;">
                  <div id="male-distribution" style="display: inline;">
                      <i class="fas fa-male fa-2x" style="display: inline; float: left;"></i>
                      <div class="progress active" style="width: 95%; float: right; display: inline;">
                          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: <%= (state.population.male/(state.population.male + state.population.female))*100 %>%"><%= ((state.population.male/(state.population.male + state.population.female))*100).toFixed(2) %> %</div>
                      </div>
                  </div>
              </div>

              <br>

              <!-- To display progress bar for female population -->
              <div style="display: block; margin-top: 30px;">
                  <div id="female-distribution" style="display: inline;">
                      <i class="fas fa-female fa-2x" style="display: inline; float: left;"></i>
                      <div class="progress active" style="width: 95%; float: right; display: inline;">
                          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: <%= (state.population.female/(state.population.male + state.population.female))*100 %>%"><%= ((state.population.female/(state.population.male + state.population.female))*100).toFixed(2) %> %</div>
                      </div>
                  </div>
              </div>
        </div>


        <!-- To display Infant Mortality Rate -->
        <div class="box" style="width: 26%; float: right; padding-left: 20px; padding-bottom: 42.235px;">
            <h3>Infant Mortality Rate (per 1000) :</h3><br>
            <!-- IMR labels -->
            <div style="padding-left: 10%">
                <span class="ui big label">
                  <i class="male big icon"></i>
                  <%= state.imr.male %>
                </span>
                <span class="ui big label">
                  <i class="female big icon"></i>
                  <%= state.imr.female %>
                </span>
            </div>
        </div>

    </div>


    <!-- To display literacy rate column chart -->
    <div class="container" style="margin-top: 40px; margin-bottom: 40px;">
        <h3>Literacy Rate (per 100) :</h3><br>
        <div id="columnchart_material" style="width: 400px; height: 500px;"></div>
    </div>

  </body>
</html>
